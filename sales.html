
<!DOCTYPE html>
<html class="navbar-vertical-collapsed" lang="en-US" dir="ltr">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Sales</title>

    <link rel="icon" type="image/png" sizes="32x32" href="assets/img/illustrations/logo.ico">


    <script>window.$ = window.jQuery = require('jquery');</script>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700%7cPoppins:100,200,300,400,500,600,700,800,900&amp;display=swap" rel="stylesheet">
    <script src="https://prium.github.io/falcon/v2.7.2/dark/assets/js/config.navbar-vertical.min.js"></script>
    <link href="https://prium.github.io/falcon/v2.7.2/dark/assets/lib/perfect-scrollbar/perfect-scrollbar.css" rel="stylesheet">
    <link href="https://prium.github.io/falcon/v2.7.2/dark/assets/lib/lightbox2/css/lightbox.min.css" rel="stylesheet">
    <link href="https://prium.github.io/falcon/v2.7.2/dark/assets/lib/fancybox/jquery.fancybox.min.css" rel="stylesheet">
    <link href="assets/css/theme-dark.min.css" rel="stylesheet">
    <script>
      const ipc = require('electron').ipcRenderer
      ipc.send("getUsername")
      ipc.on("ReturnedUsername",(event,arg) => {
          console.log("Nome")
          console.log(arg)
          $("#nickName").text(arg)
      })
      function visibleSearch(){
      document.getElementById("Filter").style.display="inline";
      document.getElementById("cerca").style.display="none";
    }
    </script>
  </head>

  <body onload="LoadSales()">
    <main class="main" id="top">
      <div class="preloader" id = "Preloader1">
        <div style = "position:fixed;top: 50%;left: 50%;">
          <div class="spinner-border text-primary" role="status">
            <span class="sr-only">Loading...</span>
          </div>
        </div>
      </div>
      <div class="container-fluid" data-layout="container">
        <nav class="navbar navbar-vertical navbar-expand-xl navbar-light" style="display:none;">
          <script>
            var navbarStyle = localStorage.getItem("navbarStyle");
            if (navbarStyle) {
              document.querySelector('.navbar-vertical').className += ' navbar-' + navbarStyle;
            }
          </script>
          <div class="d-flex align-items-center">
            <div class="toggle-icon-wrapper">
              <button class="btn navbar-toggler-humburger-icon navbar-vertical-toggle" data-toggle="tooltip" data-placement="left" title="Toggle Navigation"><span class="navbar-toggle-icon"><span class="toggle-line"></span></span></button>
            </div>
            <a class="navbar-brand" href="home.html">
              <div class="d-flex align-items-center py-3">
                <img class="mr-2" src="img/logo-piccolo.png" alt="" width="40" />
                <span class="text-sans-serif" style="color: #fafafa;">boring</span>
              </div>
            </a>
          </div>
          <div class="collapse navbar-collapse" id="navbarVerticalCollapse">
            <div class="navbar-vertical-content perfect-scrollbar scrollbar">
              <ul class="navbar-nav flex-column">
                <li class="nav-item">
                  <a class="nav-link" href="home.html">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-icon">
                        <span class="fas fa-chart-pie"></span>
                      </span>
                      <span class="nav-link-text">Home</span>
                    </div>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="inventory.html">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-icon">
                        <span class="fas fa-copy"></span>
                      </span>
                      <span class="nav-link-text">Inventory</span>
                    </div>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="sales.html">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-icon">
                        <span class="fas fa-tag"></span>
                      </span>
                      <span class="nav-link-text">Sales</span>
                    </div>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="expenses.html">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-icon">
                        <span class="fas fa-credit-card"></span>
                      </span>
                      <span class="nav-link-text">Expenses</span>
                    </div>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="bot.html">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-icon">
                        <span class="fas fa-robot"></span>
                      </span>
                      <span class="nav-link-text">Bot</span>
                    </div>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="profiles.html">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-icon">
                        <span class="fas fa-archive"></span>
                      </span>
                      <span class="nav-link-text">Profiles</span>
                    </div>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="release.html">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-icon">
                        <span class="fas fa-globe-europe"></span>
                      </span>
                      <span class="nav-link-text">Releases</span>
                    </div>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="tracking.html">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-icon">
                        <span class="fas fa-shipping-fast"></span>
                      </span>
                      <span class="nav-link-text">Tracking</span>
                    </div>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="market.html">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-icon">
                        <span class="far fa-chart-bar"></span>
                      </span>
                      <span class="nav-link-text">Market</span>
                    </div>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="log.html">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-icon">
                        <span class="fas fa-book"></span>
                      </span>
                      <span class="nav-link-text">Activity</span>
                    </div>
                  </a>
                </li>
              </ul>
              <div class="navbar-vertical-divider">
                <hr class="navbar-vertical-hr my-2" />
              </div>
              <ul class="navbar-nav flex-column" id="navbarVerticalNav">
                <li class="nav-item">
                  <a class="nav-link" href="settings.html">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-icon">
                        <span class="fas fa-user-alt"></span>
                      </span>
                      <span class="nav-link-text">Profile</span>
                    </div>
                  </a>
                </li>
                <li class="nav-item" onclick="LogOut()">
                  <a class="nav-link" href="settings.html">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-icon">
                        <span class="fas fa-user-alt-slash"></span>
                      </span>
                      <span class="nav-link-text">Logout</span>
                    </div>
                  </a>
                </li>
                <li class="nav-item"><a class="nav-link" href="#">
                    <div class="d-flex align-items-center">
                      <span class="nav-link-icon">
                        <span class="fas fa-code-branch"></span></span>
                        <span class="nav-link-text">Changelog</span>
                        <span class="badge badge-pill ml-2 badge-soft-primary">vBeta</span>
                      </div>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
        <nav class="navbar navbar-light navbar-glass navbar-top sticky-kit navbar-expand-lg" style="display:none;">
        </nav>
        <!--INZIO NAVBAR IN MODALITA' PICCOLA-->
        <div class="content">
          <nav class="navbar navbar-light navbar-glass navbar-top sticky-kit navbar-expand" style="display:none;">
            <button style ="-webkit-app-region: no-drag;" style ="-webkit-app-region: no-drag;" class="btn navbar-toggler-humburger-icon navbar-toggler mr-1 mr-sm-3" id="btnCloseNav" type="button" data-toggle="collapse" data-target="#navbarVerticalCollapse" aria-controls="navbarVerticalCollapse" aria-expanded="false" aria-label="Toggle Navigation"><span class="navbar-toggle-icon"><span class="toggle-line"></span></span></button>
            <a style ="-webkit-app-region: no-drag;" class="navbar-brand mr-1 mr-sm-3" href="home.html">
              <div class="d-flex align-items-center">
                <img src="img/logo-piccolo.png" alt="" width="40" />
                <span class="text-sans-serif" style="color:#fafafa;margin-left: 5px;">boring</span>
              </div>
            </a>
            <ul class="navbar-nav navbar-nav-icons ml-auto flex-row align-items-center">
              <li class="nav-item" style ="-webkit-app-region: no-drag;" onclick = "minimize()" data-toggle="tooltip" data-placement="left" title="minimize">
                <a class="nav-link px-0">
                  <span class="fas fa-minus fs-4" data-fa-transform="shrink-7" style="margin-right: 8px;"></span>
                </a>
              </li>
              <li class="nav-item" style ="-webkit-app-region: no-drag;" onclick = "maximize()" data-toggle="tooltip" data-placement="left" title="maximize">
                <a class="nav-link px-0">
                  <span class="fas fa-square fs-4" data-fa-transform="shrink-7" style="margin-right: 8px;"></span>
                </a>
              </li>
              <li class="nav-item" style ="-webkit-app-region: no-drag;" onclick = "quit()" data-toggle="tooltip" data-placement="left" title="close">
                <a class="nav-link px-0">
                  <span class="fas fa-times fs-4" data-fa-transform="shrink-7" style="margin-right: 8px;"></span>
                </a>
              </li>
            </ul>
          </nav>
          <script>
            var navBtn = document.getElementById("btnCloseNav")
            function OpenClose(){
              $("#navbarVerticalCollapse").toggle()
            }
            var navbarPosition = localStorage.getItem('navbarPosition');
            var navbarVertical = document.querySelector('.navbar-vertical');
            var navbarTopVertical = document.querySelector('.content .navbar-top');
            var navbarTop = document.querySelector('[data-layout] .navbar-top');
            var navbarTopCombo = document.querySelector('.content .navbar-top-combo');

            if (navbarPosition === 'top') {
              navbarTop.removeAttribute('style');
              navbarTopVertical.parentNode.removeChild(navbarTopVertical);
              navbarVertical.parentNode.removeChild(navbarVertical);
              navbarTopCombo.parentNode.removeChild(navbarTopCombo);
            } else if (navbarPosition === 'combo') {
              navbarVertical.removeAttribute('style');
              navbarTopCombo.removeAttribute('style');
              navbarTop.parentNode.removeChild(navbarTop);
              navbarTopVertical.parentNode.removeChild(navbarTopVertical);
            } else {
              navbarVertical.removeAttribute('style');
              navbarTopVertical.removeAttribute('style');
              navbarTop.parentNode.removeChild(navbarTop);
              //navbarTopCombo.parentNode.removeChild(navbarTopCombo);
            }
          </script>
          <div class="content">
            <div class="header-body">
              <div class="row align-items-end">
                <div class="col">
                
                  <!-- Title -->
                  <h1 class="header-title" style="float: left;margin-left: 12px;">
                    Sales
                    <span class="badge badge-soft-primary" style="display: none;float: right;font-size: 12px;margin-top: 7px;margin-left:3px" id="MessageExport">Inventory Exported</span>
                    <span class="badge badge-soft-primary" style="display: none;float: right;font-size: 12px;margin-top: 7px;margin-left:3px" id="MessageEdit">Item edited</span>
                    <span class="badge badge-soft-secondary" style="display: none;float: right;font-size: 12px;margin-top: 7px;margin-left:3px" id="MessageDuplicate">Item duplicated</span>
                    <span class="badge badge-soft-warning" style="display: none;float: right;font-size: 12px;margin-top: 7px;margin-left:3px" id="MessageSale">Item sold</span>
                    <span class="badge badge-soft-danger" style="display: none;float: right;font-size: 12px;margin-top: 7px;margin-left:3px" id="MessageDelete">Item deleted</span>
                    <span class="badge badge-soft-success" style="display: none; float: right;font-size: 12px;margin-top: 7px;margin-left:3px" id="MessageAdd">New item added</span>
                    <span class="badge badge-soft-info" style="display: none;float: right;font-size: 12px;margin-top: 7px;margin-left:3px" id="MessageSync">Synchronizing prices</span>
                    <span class="badge badge-soft-danger" style="display: none;float: right;font-size: 12px;margin-top: 7px;margin-left:3px" id="MessageError">Connection error...</span>
                  </h1>
                  <span style="float: right;margin-right: 1%;">                     
                    <button class="btn btn-falcon-default btn-sm mx-1" style="background-color: #2C96F1 !important;color: #fff;" type="button" onclick="SyncAvgPrice()">
                      <span data-toggle="tooltip" data-placement="top" title="Refresh value for every item">
                      <span class="fas fa-sync-alt" data-fa-transform="shrink-3 down-2"></span>
                      </span>
                  </button>   
                  
                  <button class="btn btn-falcon-default btn-sm mx-1" style="background-color: #f1743f !important;color: #fff;" type="button" onclick="Export()">
                    <span data-toggle="tooltip" data-placement="top" title="Export your inventory">
                    <span class="fas fa-external-link-alt" data-fa-transform="shrink-3 down-2"></span>
                    </span>
                  </button>
                  
                  <button class="btn btn-falcon-default btn-sm mx-1" style="background-color: #4BB543 !important;color: #fff;" type="button" id="cerca" onclick="visibleSearch()">
                    <span data-toggle="tooltip" data-placement="top" title="Search items in your sales">
                    <span class="fas fa-search" data-fa-transform="shrink-3 down-2"></span>
                  </span>
                  </button>
                      <input type="text" id = "Filter" style="display: none;" onkeyup="FilterTable()" class="btn btn-falcon-default btn-sm" placeholder="Filter items">


                  </span>
                </div>
              </div> <!-- / .row -->
            </div>
          <div class="card mb-3 bg-200">
            <div style='text-align:center;display: none;' id="AlertSales">
              <img height = "300px" src='https://i.ibb.co/kKmwkJW/superscene-69-box-removebg-preview.png' alt=''>
              <h3 style='margin-top: -40px;'>Oh no! It's empty</h3> <br>
              <p style='margin-top: -20px;'>Start to add something</p>
              </div>
                <table class="table table-borderless table-hover" >
                  <thead class="text-900" id="SalesHeader" style="display: none;">
                    <tr>
                      <th class="sort pr-1 align-middle">Name</th>
                      <th class="sort pr-1 align-middle">Date Sales</th>
                      <th class="sort pr-1 align-middle">Site</th>
                      <th class="sort pr-1 align-middle">Buyer</th>
                      <th class="sort pr-1 align-middle">Price</th>
                      <th class="sort pr-1 align-middle">Value</th>
                      <th class="sort pr-1 align-middle">Sale</th>
                      <th class="sort pr-1 align-middle">Size</th>
                      <th></th>
                      <th class="sort pr-1 align-middle"></th>
                    </tr>
                  </thead>
                  <tbody id = "SalesTable">
                    
                 </tbody>
              </table>
          </div>
        </div>
          <!--END-->
          <!--MODAL VENDITA-->
          <div class="modal fade" id="sale" tabindex="-1" role="dialog" aria-labelledby="authentication-modal-label" aria-hidden="true">
            <div class="modal-dialog mt-6" role="document">
              <div class="modal-content border-0">
                <div class="modal-header px-5 text-white position-relative modal-shape-header">
                  <div class="position-relative z-index-1">
                    <div>
                      <h4 class="mb-0 text-white" id="authentication-modal-label">Sale item</h4>
                      <p class="fs--1 mb-0">Sales details</p>
                    </div>
                  </div><button class="close text-white position-absolute t-0 r-0 mt-1 mr-1" data-dismiss="modal" aria-label="Close"><span class="font-weight-light" aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body py-4 px-5">
                  <form>
                    <div class="form-row">
                      <div class="form-group col-6"><label for="modal-auth-password">Price</label><input class="form-control" type="text"  /></div>
                      <div class="form-group col-6"><label for="modal-auth-password">Date</label><input class="form-control datetimepicker" id="wizard-datepicker" type="text" data-options='{"dateFormat":"d/m/y"}' /></div>
                      <div class="form-group col-12"><label for="modal-auth-confirm-password">Site</label>
                        <input list="vendita" class="form-control">
                        <datalist id="vendita" class="form-group">
                          <option value="Luisaviaroma">
                          <option value="Kith">
                          <option value="Stockx">
                          <option value="Opera">
                          <option value="Safari">
                        </datalist>
                      </div>
                    </div>
                    <div class="form-group"><button class="btn btn-primary btn-block mt-3" type="submit" name="submit">Add</button></div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
          <!--END-->
          <!--MODAL PIAZZAMENTO OFFERTA-->
          <div class="modal fade" id="ask" tabindex="-1" role="dialog" aria-labelledby="authentication-modal-label" aria-hidden="true">
            <div class="modal-dialog mt-6" role="document">
              <div class="modal-content border-0">
                <div class="modal-header px-5 text-white position-relative modal-shape-header">
                  <div class="position-relative z-index-1">
                    <div>
                      <h4 class="mb-0 text-white" id="authentication-modal-label">Place ask</h4>
                      <p class="fs--1 mb-0">Easily place an ask on Stockx</p>
                    </div>
                  </div><button class="close text-white position-absolute t-0 r-0 mt-1 mr-1" data-dismiss="modal" aria-label="Close"><span class="font-weight-light" aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body py-4 px-5">
                  <form>
                    <div class="form-row">
                      <div class="form-group col-12"><label for="modal-auth-password">Price</label><input class="form-control" type="text"  /></div>
                    </div>
                    <div class="form-group"><button class="btn btn-primary btn-block mt-3" type="submit" name="submit">Add</button></div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
          <!--END-->
          <!--MODAL STATS-->
          <div class="modal modal-fixed-right fade" id="stats" tabindex="-1" role="dialog" aria-labelledby="exampleModalRightLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-vertical" role="document">
              <div class="modal-content border-0 min-vh-100">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalRightLabel">Statistics</h5><button class="close" type="button" data-dismiss="modal" aria-label="Close"><span class="font-weight-light" aria-hidden="true">&times;</span></button>
                </div>
                <div class="card-deck">
                    <div class="card mb-3 overflow-hidden" style="min-width: 12rem">
                      <div class="bg-holder bg-card" style="background-image:url(assets/img/illustrations/corner-1.png);"></div>
                      <!--/.bg-holder-->
                      <div class="card-body position-relative">
                        <h6>Total Sales</h6>
                        <div class="display-4 fs-4 mb-2 font-weight-normal text-sans-serif text-warning" id="TotalSales"></div>
                      </div>
                    </div>
                    <div class="card mb-3 overflow-hidden" style="min-width: 12rem">
                      <div class="bg-holder bg-card" style="background-image:url(assets/img/illustrations/corner-2.png);"></div>
                      <!--/.bg-holder-->
                      <div class="card-body position-relative">
                        <h6>Total Profit</h6>
                        <div class="display-4 fs-4 mb-2 font-weight-normal text-sans-serif text-info" id = "TotalProfit"></div>
                      </div>
                    </div>
                    <div class="card mb-3 overflow-hidden" style="min-width: 12rem">
                      <div class="bg-holder bg-card" style="background-image:url(assets/img/illustrations/corner-3.png);"></div>
                      <!--/.bg-holder-->
                      <div class="card-body position-relative">
                        <h6>Total Sales StockX</h6>
                        <div class="display-4 fs-4 mb-2 font-weight-normal text-sans-serif text-items" id="TotalSalesStockX"></div>
                      </div>
                    </div>
                    <div class="card mb-3 overflow-hidden" style="min-width: 12rem">
                      <div class="bg-holder bg-card" style="background-image:url(assets/img/illustrations/corner-3.png);"></div>
                      <!--/.bg-holder-->
                      <div class="card-body position-relative">
                        <h6>Total Sales Custom</h6>
                        <div class="display-4 fs-4 mb-2 font-weight-normal text-sans-serif text-items" id="TotalSalesCustom"></div>
                      </div>
                    </div>
                  </div>
              </div>
            </div>
          </div>
          <!---->
          <footer>
            <div class="row no-gutters justify-content-between fs--1 mt-4 mb-3">
              <div class="col-12 col-sm-auto text-center">
              </div>
              <div class="col-12 col-sm-auto text-center">
                <p class="mb-0 text-600"></p>
              </div>
            </div>
          </footer>
        </div>
      </div>
    </main>

    <script>
      var isFluid = JSON.parse(localStorage.getItem('isFluid'));
      if (isFluid) {
        var container = document.querySelector('[data-layout]');
        container.classList.remove('container');
        container.classList.add('container-fluid');
      }

      function FilterTable(){
        var Filter = $("#Filter").val()
        var inventory = document.getElementById("SalesTable")

        var trList = inventory.getElementsByTagName("tr")

        for(var tr of trList){
          for(var tr of trList){
            tr.setAttribute("style","display: table-row")
          }
        }

        if(Filter == ""){
          for(var tr of trList){
            tr.setAttribute("style","display: table-row")
          }
        }

        for(var tr of trList){
          if(tr.id.toUpperCase().includes(Filter.toUpperCase())){
            //console.log(tr)
          }else{
            tr.setAttribute("style","display: none")
          }
        }
        //console.log(tr)
      }
    </script>

    <script>if (typeof module === 'object') 
      {window.module = module; module = undefined;}</script> 
    <script src="https://prium.github.io/falcon/v2.7.2/dark/assets/js/jquery.min.js"></script>
    <script src="https://prium.github.io/falcon/v2.7.2/dark/assets/js/popper.min.js"></script>
    <script src="https://prium.github.io/falcon/v2.7.2/dark/assets/js/bootstrap.min.js"></script>
    <script src="https://prium.github.io/falcon/v2.7.2/dark/assets/lib/@fortawesome/all.min.js"></script>
    <script src="https://prium.github.io/falcon/v2.7.2/dark/assets/lib/stickyfilljs/stickyfill.min.js"></script>
    <script src="https://prium.github.io/falcon/v2.7.2/dark/assets/lib/sticky-kit/sticky-kit.min.js"></script>
    <script src="https://prium.github.io/falcon/v2.7.2/dark/assets/lib/is_js/is.min.js"></script>
    <script src="https://prium.github.io/falcon/v2.7.2/dark/assets/lib/lodash/lodash.min.js"></script>
    <script src="https://prium.github.io/falcon/v2.7.2/dark/assets/lib/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="https://prium.github.io/falcon/v2.7.2/dark/assets/lib/shopify-draggable/draggable.bundle.legacy.js"></script>
    <script src="https://prium.github.io/falcon/v2.7.2/dark/assets/lib/lightbox2/js/lightbox.min.js"></script>
    <script src="https://prium.github.io/falcon/v2.7.2/dark/assets/lib/fancybox/jquery.fancybox.min.js"></script>
    <script src="https://prium.github.io/falcon/v2.7.2/dark/assets/js/theme.min.js"></script>
    <script src="assets/lib/leaflet/leaflet.js"></script>
    <script src="assets/lib/leaflet.markercluster/leaflet.markercluster.js"></script>
    <script src="assets/lib/leaflet.tilelayer.colorfilter/leaflet-tilelayer-colorfilter.min.js"></script>
    <script src="assets/js/theme.min.js"></script>
    <script src="assets/lib/jquery-validation/jquery.validate.min.js"></script>
    <script src="assets/lib/flatpickr/flatpickr.min.js"></script>
    <script src="assets/lib/dropzone/dropzone.min.js"></script>
    <script src="scripts/sales.js"></script>
    <script>if(window.module){module = window.module;}</script>
  </body>

</html>